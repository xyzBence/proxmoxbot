Содержимое файла config.json:

{
    "bot_token":"your_bot_token",		---> 1.		            
    "proxmox": {
        "host":"your_host",			---> 2.             
        "user":"your_user",			---> 3.             
        "password":"your_psswd",		---> 4.         
        "verify_ssl": false			---> 5.
    },
    "admin": {
        "123123": "Admin ID"			---> 6.
    },
    "staff": {},				---> 7.
    "user": {},					---> 8.
    "log_channel": null
}

1. --> Введите токен вашего бота между "" здесь: https://discord.com/developers/applications для создания Discord-бота. Помощь: https://discordpy.readthedocs.io/en/stable/discord.html

2. --> Введите адрес доступа к Proxmox между "" здесь, например: 192.168.0.102:8006

3. --> Введите имя пользователя Proxmox между "" здесь, по умолчанию: root@pam

4. --> Введите пароль Proxmox между "" здесь, например: benceontop

5. --> Оставьте как есть, это значение по умолчанию

6. --> Вместо "123123" введите Discord ID владельца сервера между "". Владелец имеет полный доступ ко всем функциям и командам. Он будет получать уведомления в случае чрезвычайных ситуаций и когда кто-то выполняет действия, например, останавливает виртуальную машину.

7. --> Здесь можно указать Discord ID сотрудников (staff). Вы можете редактировать это здесь, но проще использовать команду /setstaff следующим образом: /setstaff <имя пользователя / упоминание пользователя / Discord ID>. После добавления кого-либо вы можете проверить это с помощью команды /config или просто посмотреть в файле config.json. Сотрудники имеют доступ ко всему и могут полностью управлять всеми виртуальными машинами и контейнерами. Однако они не могут назначать или редактировать разрешения, а также настраивать или удалять логи.

8. --> Здесь можно указать пользователей и виртуальные машины/контейнеры, к которым они будут иметь доступ. Вы можете редактировать это здесь, но проще использовать команду /setuser следующим образом: /setuser <имя пользователя / упоминание пользователя / Discord ID> <ID разрешенной ВМ/контейнера, например, 100>. После добавления кого-либо вы можете проверить это с помощью команды /config или просто посмотреть в файле config.json. Пользователь может только запускать, останавливать и перезапускать указанную ВМ, а также имеет доступ к базовым командам, таким как /serverinfo и /listcommands.

-------------------------------
Секции staff и user можно расширять. Это можно сделать с помощью команды или вручную в файле конфигурации.
-------------------------------

-------------------------------
Любой, кто не является ни пользователем, ни сотрудником, ни администратором, не имеет никаких прав, и бот вернет ошибку: Error: You are not authorized to use this bot.
-------------------------------

----> Команды:

|-------------------------------|-------------------------------------------------------------------------------|
| /listcommands                 | Показать все доступные команды с интерактивным выпадающим меню 		|
| /listnodes                    | Список всех узлов в вашем кластере Proxmox                   			|
| /listvms <node>               | Список всех виртуальных машин на указанном узле              			|
| /vmavg <node>                 | Показать среднее использование ресурсов всеми ВМ на узле     			|
| /startvm <node> <vm_id>       | Запустить виртуальную машину                                 			|
| /restartvm <node> <vm_id>     | Перезапустить виртуальную машину                             			|
| /stopvm <node> <vm_id>        | Остановить виртуальную машину                                			|
| /listcts <node>               | Список всех LXC-контейнеров на узле                          			|
| /ctavg <node>                 | Показать среднее использование ресурсов всеми контейнерами   			|
| /startct <node> <ct_id>       | Запустить контейнер                                          			|
| /restartct <node> <ct_id>     | Перезапустить контейнер                                      			|
| /stopct <node> <ct_id>        | Остановить контейнер                                         			|
| /serverinfo                   | Отобразить полную информацию о состоянии сервера и использовании ресурсов	|
| /setlog                       | Настроить канал для логирования активности бота              			|
| /deletelog                    | Удалить настроенный канал логирования                        			|
| /setuser                      | Назначить пользователю доступ к определенным ВМ/контейнерам  			|
| /setstaff                     | Предоставить права сотрудника пользователю                   			|
| /config                       | Показать или проверить текущую конфигурацию бота             			|
|-------------------------------|-------------------------------------------------------------------------------|

----> start.bat:

Файл start.bat — это простая опция запуска в среде Windows. Файл start.bat должен находиться в той же папке, что и файлы config.json и main.py.

----> Python:

Скачать Python: https://www.python.org/
Версия Python: 3.13.1
(Установите Python и убедитесь, что он добавлен в PATH)

Пакеты Python:

Если вы успешно установили Python, вы можете проверить это с помощью команды: python --version

После установки Python (с добавлением в PATH) установите следующие пакеты из командной строки:

pip install discord.py
pip install proxmoxer
pip install requests
pip install ping3
pip install psutil

----> Proxmox:

Версия: 8.3.2

Как проверить верziót? Через веб-интерфейс или с помощью команды pveversion.

----------------------------
Автор: Bence
Создано: 2025-01-06
Последнее обновление: 2025-04-11

Это пока версия-кандидат на выпуск, скоро будут добавлены новые функции, улучшения и оптимизации.

Если нужна помощь, мой Discord: bbencevagyok